<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT Outsourcing Cost Calculator | Compare Offshore Development Rates | Startekk</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23047857%27 stroke-width=%272%27><path stroke-linecap=%27round%27 stroke-linejoin=%27round%27 d=%27M13 10V3L4 14h7v7l9-11h-7z%27/></svg>">
    <meta name="description" content="Calculate offshore development cost savings instantly. Compare USA market rates vs Startekk rates for 238+ IT roles. See real ROI for your team.">
    <meta name="keywords" content="offshore development cost calculator, IT outsourcing cost savings, compare offshore rates, development team cost calculator">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Cost Calculator - Offshore Development Savings">
    <meta property="og:description" content="Calculate your savings with offshore development. 238+ job titles, instant ROI comparison.">
    <meta property="og:type" content="website">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8BFZG3R9ZR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-8BFZG3R9ZR');
    </script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #047857 0%, #84CC16 100%);
        }
        .result-card {
            transition: all 0.3s ease;
        }
        .result-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(4, 120, 87, 0.15);
        }
        .autocomplete-item {
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .autocomplete-item:hover {
            background-color: #f3f4f6;
        }
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #047857;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- Navigation -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center space-x-2">
                    <svg class="w-8 h-8 text-emerald-700" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M13 2L3 14h8l-2 8 10-12h-8l2-8z"/>
                    </svg>
                    <span class="text-2xl font-bold gradient-bg bg-clip-text text-transparent">Startekk</span>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="/" class="text-gray-700 hover:text-emerald-700">Home</a>
                    <a href="/about.html" class="text-gray-700 hover:text-emerald-700">About</a>
                    <a href="/products.html" class="text-gray-700 hover:text-emerald-700">Products</a>
                    <a href="/case-studies.html" class="text-gray-700 hover:text-emerald-700">Case Studies</a>
                    <a href="/contact.html" class="text-gray-700 hover:text-emerald-700">Contact</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="gradient-bg text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">IT Outsourcing Cost Calculator</h1>
            <p class="text-xl text-emerald-50 max-w-3xl mx-auto">
                Calculate your savings with offshore development. Compare rates for 238+ IT roles across USA, Nearshore, and Offshore locations.
            </p>
        </div>
    </section>

    <!-- Calculator Section -->
    <section class="py-12">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            
            <!-- Calculator Form -->
            <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">Calculate Your Savings</h2>
                
                <form id="calculatorForm" class="space-y-6">
                    
                    <!-- Job Title Search -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Search Job Title
                        </label>
                        <div class="relative">
                            <input 
                                type="text" 
                                id="jobSearch" 
                                placeholder="e.g., Software Engineer, DevOps, QA Engineer..."
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-600 focus:border-transparent"
                                autocomplete="off"
                            >
                            <div id="autocompleteResults" class="absolute w-full bg-white border border-gray-300 rounded-lg mt-1 max-h-60 overflow-y-auto hidden z-10 shadow-lg"></div>
                        </div>
                        <p class="text-sm text-gray-500 mt-1">238 job titles available</p>
                    </div>

                    <!-- Selected Job Display -->
                    <div id="selectedJobDisplay" class="hidden bg-emerald-50 border border-emerald-200 rounded-lg p-4">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-semibold text-emerald-900" id="selectedJobTitle"></p>
                                <p class="text-sm text-emerald-700" id="selectedJobCategory"></p>
                            </div>
                            <button type="button" id="clearJob" class="text-emerald-700 hover:text-emerald-900">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Team Size -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Team Size
                        </label>
                        <input 
                            type="number" 
                            id="teamSize" 
                            min="1" 
                            max="100" 
                            value="5"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-600 focus:border-transparent"
                            required
                        >
                    </div>

                    <!-- Hours Per Week -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Hours Per Week (per person)
                        </label>
                        <select 
                            id="hoursPerWeek"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-600 focus:border-transparent"
                        >
                            <option value="40">40 hours (Full-time)</option>
                            <option value="30">30 hours</option>
                            <option value="20">20 hours (Part-time)</option>
                        </select>
                    </div>

                    <!-- Location Selection -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Compare Against
                        </label>
                        <select 
                            id="location"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-600 focus:border-transparent"
                        >
                            <option value="usa-market">USA Market Rate</option>
                            <option value="usa-startekk" selected>USA with Startekk</option>
                            <option value="nearshore">Nearshore (Mexico/Canada)</option>
                            <option value="india-offshore">India (Offshore)</option>
                        </select>
                    </div>

                    <!-- Calculate Button -->
                    <button 
                        type="submit" 
                        id="calculateBtn"
                        class="w-full gradient-bg text-white font-semibold py-4 rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center"
                    >
                        <span id="btnText">Calculate Savings</span>
                        <div id="btnSpinner" class="loading-spinner ml-3 hidden"></div>
                    </button>
                </form>
            </div>

            <!-- Results Section -->
            <div id="resultsSection" class="hidden space-y-6">
                
                <!-- Main Savings Card -->
                <div class="bg-gradient-to-br from-emerald-700 to-lime-600 text-white rounded-xl shadow-lg p-8 text-center">
                    <h3 class="text-2xl font-bold mb-2">Your Annual Savings</h3>
                    <p class="text-5xl font-bold mb-2" id="annualSavings">$0</p>
                    <p class="text-emerald-100 text-lg" id="savingsPercentage">0% cost reduction</p>
                    <p class="text-emerald-50 text-sm mt-4">5-Year Savings: <span class="font-bold" id="fiveYearSavings">$0</span></p>
                </div>

                <!-- Comparison Cards -->
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="result-card bg-white rounded-xl shadow-lg p-6">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">USA Market Rate</h4>
                        <p class="text-3xl font-bold text-gray-900 mb-2" id="marketCost">$0</p>
                        <p class="text-sm text-gray-600" id="marketDetails">Annual cost</p>
                    </div>
                    
                    <div class="result-card bg-white rounded-xl shadow-lg p-6">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">Your Selected Model</h4>
                        <p class="text-3xl font-bold text-emerald-700 mb-2" id="selectedCost">$0</p>
                        <p class="text-sm text-gray-600" id="selectedDetails">Annual cost</p>
                    </div>
                </div>

                <!-- All Options Comparison -->
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-gray-900 mb-4">Compare All Options</h3>
                    <div id="comparisonTable" class="space-y-3">
                        <!-- Dynamically populated -->
                    </div>
                </div>

                <!-- CTA -->
                <div class="bg-gray-100 rounded-xl p-8 text-center">
                    <h3 class="text-2xl font-bold text-gray-900 mb-2">Ready to start saving?</h3>
                    <p class="text-gray-600 mb-6">Let's discuss how Startekk can help reduce your costs</p>
                    <a href="/contact.html" class="inline-block gradient-bg text-white font-semibold px-8 py-3 rounded-lg hover:opacity-90 transition-opacity">
                        Contact Us Today
                    </a>
                </div>
            </div>

        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-300 py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                
                <!-- Company -->
                <div>
                    <h3 class="text-white font-semibold mb-4">Company</h3>
                    <ul class="space-y-2">
                        <li><a href="/about.html" class="hover:text-white transition-colors">About Us</a></li>
                        <li><a href="/career-accel.html" class="hover:text-white transition-colors">Careers</a></li>
                        <li><a href="/contact.html" class="hover:text-white transition-colors">Contact</a></li>
                        <li><a href="/investor" class="hover:text-white transition-colors">Investors</a></li>
                    </ul>
                </div>

                <!-- Products -->
                <div>
                    <h3 class="text-white font-semibold mb-4">Products</h3>
                    <ul class="space-y-2">
                        <li><a href="/star-ai-cloud.html" class="hover:text-white transition-colors">Star AI Cloud</a></li>
                        <li><a href="/star-ai-ediscovery.html" class="hover:text-white transition-colors">Star AI eDiscovery</a></li>
                        <li><a href="/qr-feedback.html" class="hover:text-white transition-colors">QR Feedback</a></li>
                        <li><a href="/products.html" class="hover:text-white transition-colors">All Products</a></li>
                        <li><a href="https://www.starworkforce.net" class="hover:text-white transition-colors">StarWorkforce →</a></li>
                    </ul>
                </div>

                <!-- Resources -->
                <div>
                    <h3 class="text-white font-semibold mb-4">Resources</h3>
                    <ul class="space-y-2">
                        <li><a href="/blog.html" class="hover:text-white transition-colors">Blog</a></li>
                        <li><a href="/case-studies.html" class="hover:text-white transition-colors">Case Studies</a></li>
                        <li><a href="/cost-calculator.html" class="hover:text-white transition-colors">Cost Calculator</a></li>
                    </ul>
                </div>

                <!-- Legal -->
                <div>
                    <h3 class="text-white font-semibold mb-4">Legal</h3>
                    <ul class="space-y-2">
                        <li><a href="/legal/privacy-policy.html" class="hover:text-white transition-colors">Privacy Policy</a></li>
                        <li><a href="/legal/terms-of-service.html" class="hover:text-white transition-colors">Terms of Service</a></li>
                        <li><a href="/legal/cookie-policy.html" class="hover:text-white transition-colors">Cookie Policy</a></li>
                        <li><a href="/legal/do-not-sell.html" class="hover:text-white transition-colors">Do Not Sell My Info</a></li>
                        <li><a href="/legal/accessibility.html" class="hover:text-white transition-colors">Accessibility</a></li>
                        <li><a href="/legal/fraud-alert.html" class="hover:text-white transition-colors">Fraud Alert</a></li>
                    </ul>
                </div>

            </div>

            <div class="border-t border-gray-800 mt-8 pt-8 text-sm text-center">
                <p>&copy; 2024 Startekk, LLC. All rights reserved.</p>
                <p class="mt-2">5465 Legacy Drive Suite 650, Plano, TX 75024 | (469) 713-3993</p>
            </div>
        </div>
    </footer>

    <script>
        // API Configuration
        const API_BASE = window.location.hostname === 'localhost' 
            ? 'http://localhost:3000/api/calculator'
            : '/api/calculator';

        // State
        let allJobs = [];
        let selectedJob = null;

        // Load all jobs on page load
        async function loadJobs() {
            try {
                const response = await fetch(`${API_BASE}/jobs`);
                const data = await response.json();
                
                if (data.success) {
                    allJobs = data.jobs;
                    console.log(`Loaded ${allJobs.length} jobs from database`);
                }
            } catch (error) {
                console.error('Error loading jobs:', error);
                showError('Failed to load job database. Please refresh the page.');
            }
        }

        // Autocomplete search
        const jobSearch = document.getElementById('jobSearch');
        const autocompleteResults = document.getElementById('autocompleteResults');

        jobSearch.addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase().trim();
            
            if (searchTerm.length < 2) {
                autocompleteResults.classList.add('hidden');
                return;
            }

            // Filter jobs
            const matches = allJobs.filter(job => 
                job.title.toLowerCase().includes(searchTerm)
            ).slice(0, 10); // Limit to 10 results

            if (matches.length > 0) {
                displayAutocomplete(matches);
            } else {
                autocompleteResults.classList.add('hidden');
            }
        });

        // Display autocomplete results
        function displayAutocomplete(jobs) {
            autocompleteResults.innerHTML = jobs.map(job => `
                <div class="autocomplete-item px-4 py-3 border-b border-gray-100 last:border-0" data-job-id="${job.id}">
                    <p class="font-medium text-gray-900">${job.title}</p>
                    <p class="text-sm text-gray-600">${job.category} ${job.seniority ? '• ' + job.seniority : ''}</p>
                </div>
            `).join('');
            
            autocompleteResults.classList.remove('hidden');

            // Add click handlers
            document.querySelectorAll('.autocomplete-item').forEach(item => {
                item.addEventListener('click', function() {
                    const jobId = parseInt(this.dataset.jobId);
                    selectJob(jobId);
                });
            });
        }

        // Select a job
        function selectJob(jobId) {
            selectedJob = allJobs.find(job => job.id === jobId);
            
            if (selectedJob) {
                // Update display
                document.getElementById('selectedJobTitle').textContent = selectedJob.title;
                document.getElementById('selectedJobCategory').textContent = 
                    `${selectedJob.category} ${selectedJob.seniority ? '• ' + selectedJob.seniority : ''}`;
                
                document.getElementById('selectedJobDisplay').classList.remove('hidden');
                autocompleteResults.classList.add('hidden');
                jobSearch.value = selectedJob.title;
            }
        }

        // Clear job selection
        document.getElementById('clearJob').addEventListener('click', function() {
            selectedJob = null;
            document.getElementById('selectedJobDisplay').classList.add('hidden');
            jobSearch.value = '';
            jobSearch.focus();
        });

        // Close autocomplete when clicking outside
        document.addEventListener('click', function(e) {
            if (!jobSearch.contains(e.target) && !autocompleteResults.contains(e.target)) {
                autocompleteResults.classList.add('hidden');
            }
        });

        // Form submission
        document.getElementById('calculatorForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            if (!selectedJob) {
                alert('Please select a job title');
                jobSearch.focus();
                return;
            }

            // Show loading state
            const btn = document.getElementById('calculateBtn');
            const btnText = document.getElementById('btnText');
            const btnSpinner = document.getElementById('btnSpinner');
            
            btn.disabled = true;
            btnText.textContent = 'Calculating...';
            btnSpinner.classList.remove('hidden');

            try {
                const response = await fetch(`${API_BASE}/calculate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        jobId: selectedJob.id,
                        location: document.getElementById('location').value,
                        teamSize: parseInt(document.getElementById('teamSize').value),
                        hoursPerWeek: parseInt(document.getElementById('hoursPerWeek').value)
                    })
                });

                const data = await response.json();

                if (data.success) {
                    displayResults(data.calculation, data.comparison);
                } else {
                    showError(data.error || 'Calculation failed');
                }

            } catch (error) {
                console.error('Calculation error:', error);
                showError('Failed to calculate savings. Please try again.');
            } finally {
                // Reset button state
                btn.disabled = false;
                btnText.textContent = 'Calculate Savings';
                btnSpinner.classList.add('hidden');
            }
        });

        // Display results
        function displayResults(calculation, comparison) {
            // Update main savings card
            document.getElementById('annualSavings').textContent = 
                `$${calculation.savings.annual.toLocaleString()}`;
            document.getElementById('savingsPercentage').textContent = 
                `${calculation.savings.percentage}% cost reduction`;
            document.getElementById('fiveYearSavings').textContent = 
                `$${calculation.savings.fiveYear.toLocaleString()}`;

            // Update comparison cards
            document.getElementById('marketCost').textContent = 
                `$${calculation.costs.marketTotal.toLocaleString()}`;
            document.getElementById('marketDetails').textContent = 
                `${calculation.inputs.teamSize} people × ${calculation.inputs.hoursPerWeek} hrs/week`;

            document.getElementById('selectedCost').textContent = 
                `$${calculation.costs.total.toLocaleString()}`;
            document.getElementById('selectedDetails').textContent = 
                `${calculation.inputs.location} • Annual cost`;

            // Build comparison table
            const comparisonTable = document.getElementById('comparisonTable');
            comparisonTable.innerHTML = Object.entries(comparison).map(([key, data]) => `
                <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                    <div>
                        <p class="font-semibold text-gray-900">${data.location}</p>
                        <p class="text-sm text-gray-600">$${data.rate}/hour</p>
                    </div>
                    <div class="text-right">
                        <p class="font-bold text-gray-900">$${data.annualCost.toLocaleString()}</p>
                        <p class="text-sm ${data.savings > 0 ? 'text-emerald-600' : 'text-gray-500'}">
                            ${data.savings > 0 ? `Save $${data.savings.toLocaleString()} (${data.savingsPercentage}%)` : 'Baseline'}
                        </p>
                    </div>
                </div>
            `).join('');

            // Show results section
            document.getElementById('resultsSection').classList.remove('hidden');
            
            // Scroll to results
            document.getElementById('resultsSection').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });

            // Track calculation in GA
            if (typeof gtag !== 'undefined') {
                gtag('event', 'calculate_savings', {
                    'event_category': 'calculator',
                    'job_title': calculation.job.title,
                    'annual_savings': calculation.savings.annual,
                    'location': calculation.inputs.location
                });
            }
        }

        // Show error message
        function showError(message) {
            alert(message);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadJobs();
        });
    </script>

</body>
</html>
